{
  "experiment_name": "Experiment 2: Vector Embedding Model Comparison",
  "timestamp": "2025-11-03T19:33:52.963043+00:00",
  "dataset": {
    "queries": "/Users/xianzhang/Documents/prosus/Food-Semantic-Search/data/test/10_queries.csv",
    "items": "/Users/xianzhang/Documents/prosus/Food-Semantic-Search/data/test/500_items.csv",
    "test_set": "/Users/xianzhang/Documents/prosus/Food-Semantic-Search/data/test/test_query_new.csv"
  },
  "metrics_evaluated": [
    "precision@5",
    "recall@5",
    "ndcg@5",
    "coverage@5",
    "mrr",
    "precision@10",
    "recall@10",
    "ndcg@10",
    "coverage@10"
  ],
  "configurations": [
    {
      "model_name": "text-embedding-3-small",
      "dimensions": 1536,
      "normalize_embeddings": true
    },
    {
      "model_name": "text-embedding-3-small",
      "dimensions": 768,
      "normalize_embeddings": true
    },
    {
      "model_name": "text-embedding-3-large",
      "dimensions": 3072,
      "normalize_embeddings": true
    },
    {
      "model_name": "text-embedding-3-large",
      "dimensions": 1536,
      "normalize_embeddings": true
    },
    {
      "model_name": "text-embedding-3-large",
      "dimensions": 768,
      "normalize_embeddings": true
    }
  ],
  "results": [
    {
      "config": {
        "model_name": "text-embedding-3-small",
        "dimensions": 1536,
        "normalize_embeddings": true
      },
      "query_count": 10,
      "metrics": {
        "precision@5": 0.52,
        "recall@5": 0.08062472262365653,
        "ndcg@5": 0.35477321689355656,
        "coverage@5": 0.9,
        "precision@10": 0.5,
        "recall@10": 0.14408742950650014,
        "ndcg@10": 0.3567444958417454,
        "coverage@10": 1.0,
        "mrr": 0.9166666666666666
      },
      "latency": {
        "avg_latency_ms": 420.6324374768883,
        "median_latency_ms": 347.8457499295473,
        "p95_latency_ms": 782.4615643592554,
        "p99_latency_ms": 926.7924791807309,
        "min_latency_ms": 242.50504188239574,
        "max_latency_ms": 962.8752078860998
      },
      "cost": {
        "total_requests": 15,
        "total_input_tokens": 34871,
        "avg_tokens_per_request": 2324.733333333333,
        "max_tokens_per_request": 8162,
        "min_tokens_per_request": 4,
        "storage_size_bytes": 3133440,
        "storage_size_mb": 2.98828125
      }
    },
    {
      "config": {
        "model_name": "text-embedding-3-small",
        "dimensions": 768,
        "normalize_embeddings": true
      },
      "query_count": 10,
      "metrics": {
        "precision@5": 0.56,
        "recall@5": 0.08396424024888843,
        "ndcg@5": 0.39495160169646615,
        "coverage@5": 0.9,
        "precision@10": 0.47000000000000003,
        "recall@10": 0.13340371572247905,
        "ndcg@10": 0.3774386814874442,
        "coverage@10": 0.9,
        "mrr": 0.85
      },
      "latency": {
        "avg_latency_ms": 407.6284747803584,
        "median_latency_ms": 375.2474995562807,
        "p95_latency_ms": 680.812912178226,
        "p99_latency_ms": 790.5576825374737,
        "min_latency_ms": 236.33116693235934,
        "max_latency_ms": 817.9938751272857
      },
      "cost": {
        "total_requests": 15,
        "total_input_tokens": 34871,
        "avg_tokens_per_request": 2324.733333333333,
        "max_tokens_per_request": 8162,
        "min_tokens_per_request": 4,
        "storage_size_bytes": 1566720,
        "storage_size_mb": 1.494140625
      }
    },
    {
      "config": {
        "model_name": "text-embedding-3-large",
        "dimensions": 3072,
        "normalize_embeddings": true
      },
      "query_count": 10,
      "metrics": {
        "precision@5": 0.7,
        "recall@5": 0.12241693951041122,
        "ndcg@5": 0.38495708620138347,
        "coverage@5": 1.0,
        "precision@10": 0.53,
        "recall@10": 0.17967423636854843,
        "ndcg@10": 0.3875487910406409,
        "coverage@10": 1.0,
        "mrr": 0.9
      },
      "latency": {
        "avg_latency_ms": 429.77227920200676,
        "median_latency_ms": 349.1225208854303,
        "p95_latency_ms": 693.2919102138842,
        "p99_latency_ms": 812.6521148229949,
        "min_latency_ms": 292.5150829833001,
        "max_latency_ms": 842.4921659752727
      },
      "cost": {
        "total_requests": 15,
        "total_input_tokens": 34871,
        "avg_tokens_per_request": 2324.733333333333,
        "max_tokens_per_request": 8162,
        "min_tokens_per_request": 4,
        "storage_size_bytes": 6266880,
        "storage_size_mb": 5.9765625
      }
    },
    {
      "config": {
        "model_name": "text-embedding-3-large",
        "dimensions": 1536,
        "normalize_embeddings": true
      },
      "query_count": 10,
      "metrics": {
        "precision@5": 0.64,
        "recall@5": 0.12095077597335216,
        "ndcg@5": 0.3784735273999832,
        "coverage@5": 1.0,
        "precision@10": 0.53,
        "recall@10": 0.18094603346124102,
        "ndcg@10": 0.388998495953491,
        "coverage@10": 1.0,
        "mrr": 0.95
      },
      "latency": {
        "avg_latency_ms": 382.9980165930465,
        "median_latency_ms": 393.35318747907877,
        "p95_latency_ms": 449.2395079927519,
        "p99_latency_ms": 454.2024678969756,
        "min_latency_ms": 267.880457919091,
        "max_latency_ms": 455.4432078730315
      },
      "cost": {
        "total_requests": 15,
        "total_input_tokens": 34871,
        "avg_tokens_per_request": 2324.733333333333,
        "max_tokens_per_request": 8162,
        "min_tokens_per_request": 4,
        "storage_size_bytes": 3133440,
        "storage_size_mb": 2.98828125
      }
    },
    {
      "config": {
        "model_name": "text-embedding-3-large",
        "dimensions": 768,
        "normalize_embeddings": true
      },
      "query_count": 10,
      "metrics": {
        "precision@5": 0.56,
        "recall@5": 0.09860521612779231,
        "ndcg@5": 0.3405641858715548,
        "coverage@5": 1.0,
        "precision@10": 0.55,
        "recall@10": 0.18468719708842624,
        "ndcg@10": 0.38302645171704314,
        "coverage@10": 1.0,
        "mrr": 0.875
      },
      "latency": {
        "avg_latency_ms": 309.86365012358874,
        "median_latency_ms": 276.6547295032069,
        "p95_latency_ms": 452.94208331033593,
        "p99_latency_ms": 478.03468307480216,
        "min_latency_ms": 246.07820808887482,
        "max_latency_ms": 484.30783301591873
      },
      "cost": {
        "total_requests": 15,
        "total_input_tokens": 34871,
        "avg_tokens_per_request": 2324.733333333333,
        "max_tokens_per_request": 8162,
        "min_tokens_per_request": 4,
        "storage_size_bytes": 1566720,
        "storage_size_mb": 1.494140625
      }
    }
  ]
}