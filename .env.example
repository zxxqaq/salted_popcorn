# ============================================================================
# BM25 Configuration
# ============================================================================
BM25_K1=1.5
BM25_B=0.75
BM25_CACHE_DIR=data/bm25_cache_5k
BM25_CACHE_ENABLED=True

# ============================================================================
# Vector Retrieval Configuration (Local Model)
# ============================================================================
VECTOR_LOCAL_MODEL_NAME=BAAI/bge-m3
VECTOR_NORMALIZE_EMBEDDINGS=True
VECTOR_USE_HNSW=True
VECTOR_HNSW_M=32
VECTOR_HNSW_EF_CONSTRUCTION=100
VECTOR_HNSW_EF_SEARCH=64
VECTOR_HNSW_INDEX_PATH=data/vector_indices_5k/hnsw_BAAI_bge_m3_dim1024_5000.index
VECTOR_EMBEDDINGS_DIR=data/vector_indices_5k
VECTOR_CACHE_EMBEDDINGS=True
VECTOR_NORMALIZE_EMBEDDINGS=True

# Optional: Query embedding model (if different from item embedding model)
# VECTOR_QUERY_EMBEDDING_MODEL=BAAI/bge-m3

ITEMS_PATH=data/raw/5k_items.csv

# ============================================================================
# Hybrid Retrieval Configuration
# ============================================================================
RETRIEVAL_TOP_K=50
USE_RRF=True
RRF_K=60
RRF_TOP_K=20
FINAL_TOP_K_1=5
FINAL_TOP_K_2=10

# ============================================================================
# Cross-Encoder Re-ranking Configuration
# ============================================================================
RERANKER_MODEL=BAAI/bge-reranker-v2-m3
RERANKER_DEVICE=mps
# Options: cpu (Docker/Linux), cuda (Linux with NVIDIA GPU), mps (macOS)
# For Docker, use 'cpu' unless you have GPU support configured
RERANKER_BATCH_SIZE=64
RERANKER_MAX_CONCURRENT_BATCHES=1
RERANKER_TOKENIZATION_CACHE_DIR=data/reranker_tokenization_cache_5k
RERANKER_TOKENIZATION_CACHE_ENABLED=True

# Pre-filtering (before Cross-Encoder re-ranking)
# for the threshold below you need:
# first, set RERANKER_PREFILTER_ENABLED=False
# exe scripts/generate/analyze_score_distribution.py
# and the log will give you score distribution and what value should be put here
RERANKER_PREFILTER_ENABLED=True
RERANKER_PREFILTER_MIN_SCORE=0.016393
RERANKER_PREFILTER_SCORE_DIFF_THRESHOLD=0.000598
RERANKER_PREFILTER_MIN_ITEMS=10

# ============================================================================
# Evaluation Configuration (for evaluation scripts)
# ============================================================================
RELEVANCE_THRESHOLD=5.0
NDCG_THRESHOLD=1.0
